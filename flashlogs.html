<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Download Flashlogs Batch Files</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      background-color: #f8f9fa;
      text-align: center;
    }
    h2 {
      color: #333;
    }
    button {
      padding: 15px 30px;
      font-size: 18px;
      margin: 15px;
      border: none;
      border-radius: 6px;
      background-color: #007acc;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #005f99;
    }
    p {
      max-width: 600px;
      margin: 20px auto;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <h2>Generate Flashlogs Batch Files by Bazel</h2>
  <p>This program automatically gets the iPortfolio log and XML file of the POS.<br/>
    <br><br/>
  - Copy the downloaded .bat file to the clientâ€™s end and run it (double-click or run as admin).<br/>
  - Check <code>C:\poscopy</code> for the saved files after running.</p>

  <button onclick="generateBTQ()">Download Flashlogs_BTQ.bat</button>
  <button onclick="generateFB()">Download Flashlogs_FB.bat [wala pa nahuman]</button>

  <script>
    function generateBTQ() {
      const content = `REM **** Saves as Flashlogs BTQ.bat

REM **** WebPOS Batch file

REM **** Copy flashlogs and local db

set _m_user_appdata=%appdata%

set _m_outputdir=C:\\poscopy

set _m_datetime=%date%_%time%

set _m_datetime=%_m_datetime: =_%

set _m_datetime=%_m_datetime::=%

set _m_datetime=%_m_datetime:/=_% 

set _m_datetime=%_m_datetime:.=_%


if exist %_m_outputdir% (echo "Exists") else (mkdir %_m_outputdir%)

copy /b "%_m_user_appdata%\\Macromedia\\Flash Player\\Logs\\flashlog.txt" %_m_outputdir%\\WPOS_%_m_datetime%.txt

copy /b "%_m_user_appdata%\\ipbtq.74249FF9CB321F1D45F6EA93A89630D1BE111EF2.1\\Local Store\\iportfolio.log" %_m_outputdir%\\iportfolio_%_m_datetime%.log

copy /b "%_m_user_appdata%\\ipbtq.74249FF9CB321F1D45F6EA93A89630D1BE111EF2.1\\Local Store\\iportfolio.xml" %_m_outputdir%\\iportfolio_%_m_datetime%.xml`;
      downloadFile(content, 'Flashlogs_BTQ.bat');
    }

    function generateFB() {
      const content = `REM **** Saves as Flashlogs FB.bat

REM **** WebPOS Batch file

REM **** Copy flashlogs and local db

set _m_user_appdata=%appdata%

set _m_outputdir=C:\\poscopy

set _m_datetime=%date%_%time%

set _m_datetime=%_m_datetime: =_%

set _m_datetime=%_m_datetime::=%

set _m_datetime=%_m_datetime:/=_% 

set _m_datetime=%_m_datetime:.=_%


if exist %_m_outputdir% (echo "Exists") else (mkdir %_m_outputdir%)

copy /b "%_m_user_appdata%\\Macromedia\\Flash Player\\Logs\\flashlog.txt" %_m_outputdir%\\WPOS_%_m_datetime%.txt

copy /b "%_m_user_appdata%\\ipfb.74249FF9CB321F1D45F6EA93A89630D1BE111EF2.1\\Local Store\\iportfolio.log" %_m_outputdir%\\iportfolio_%_m_datetime%.log

copy /b "%_m_user_appdata%\\ipfb.74249FF9CB321F1D45F6EA93A89630D1BE111EF2.1\\Local Store\\iportfolio.xml" %_m_outputdir%\\iportfolio_%_m_datetime%.xml`;
      downloadFile(content, 'Flashlogs_FB.bat');
    }

    function downloadFile(content, filename) {
      const blob = new Blob([content], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>

</body>
</html>
